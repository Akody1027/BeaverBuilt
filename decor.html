<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Decor | Beaver Built Furniture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Lily Script One Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Lily+Script+One&display=swap"
    rel="stylesheet"
  />
  <!-- Material Icons (for Home, Furniture, Decor) -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3"></script>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/11.9.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.9.0/firebase-database-compat.js"></script>

  <style>
    /* Reset & Base */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      color: #1f2937;
      line-height: 1.5;
      padding-top: 80px; /* space for fixed header */
    }
    a { color: inherit; text-decoration: none; }
    button { cursor: pointer; background: none; border: none; font: inherit; }

    /* Preloader */
    #preloader {
      position: fixed; inset: 0;
      background-color: #ffffff;
      display: flex; align-items: center; justify-content: center;
      transition: opacity 1s ease-out; z-index: 10000;
    }
    #preloader.fade-out { opacity: 0; pointer-events: none; }
    #preloader .spinner {
      width: 50px; height: 50px;
      border: 5px solid rgba(0,0,0,0.1);
      border-top-color: #111; border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Header */
    header {
      position: fixed; top: 0; left: 0; right: 0; height: 80px;
      background: rgba(17,17,17,0.9);
      display: flex; align-items: center; padding: 0 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3); z-index: 900;
    }
    header .logo { height: 50px; margin-right: 15px; }
    header .page-title {
      font-family: 'Lily Script One', cursive;
      font-size: 2rem; color: #ffffff;
    }

    /* Carousel */
    .carousel-viewport {
      width: 95%; max-width: 1200px; height: 60vh;
      margin: 30px auto 40px; overflow: hidden;
      background: #ffffff; display: flex;
      align-items: center; justify-content: center;
      border-radius: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }
    .carousel-viewport img {
      max-height: 100%; width: auto;
      object-fit: cover; transition: opacity .3s ease;
    }

    /* Gallery */
    .gallery {
      column-count: 4; column-gap: 15px;
      max-width: 1200px; margin: 0 auto 60px;
      padding: 0 20px;
    }
    .gallery-item {
      position: relative; margin-bottom: 15px;
      display: inline-block; width: 100%;
      cursor: pointer;
      loading="lazy";
    }
    .gallery-item img {
      width: 100%; height: auto; border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transition: transform .3s ease; display: block;
    }
    .gallery-item img:hover { transform: scale(1.05); }
    .view-button {
      position: absolute; bottom: 0; left: 0; width: 100%;
      background: rgba(128,128,128,0.6); color: #ffffff;
      text-align: center; padding: 8px 0; font-weight: bold;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
      user-select: none; pointer-events: none;
    }
    @media (max-width: 1000px) { .gallery { column-count: 3; } }
    @media (max-width: 600px)  { .gallery { column-count: 2; } }
    @media (max-width: 400px)  { .gallery { column-count: 1; } }

    /* Modal */
    #detail-modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); display: none;
      align-items: center; justify-content: center; z-index: 920;
    }
    #modal-content {
      background: #ffffff; width: 90%; max-width: 450px; height: 90vh;
      margin: 5vh auto; padding: 20px; border-radius: 8px;
      overflow-y: auto; position: relative;
    }
    #modal-close {
      position: absolute; top: 10px; right: 10px;
      font-size: 24px; background: none; border: none; color: #555;
    }
    #modal-image { width: 100%; border-radius: 4px; margin-bottom: 15px; }
    #modal-description { font-size: .95rem; margin-bottom: .5rem; }
    #modal-itemnum { font-size: .9rem; margin-bottom: .5rem; color: #555; }
    #modal-price { font-weight: bold; font-size: 1rem; margin-bottom: 1rem; }
    #modal-add-btn {
      background: #1f2937; color: #ffffff; padding: 10px 16px;
      width: 100%; border-radius: 6px;
    }
    #modal-add-btn:hover { background: #374151; }

    /* Cart Popover */
    #cart-popover {
      position: fixed; bottom: 70px; right: 15px;
      background: #ffffff; border: 1px solid #cccccc;
      border-radius: 8px; padding: 15px;
      width: 60%; max-width: 600px; max-height: 70vh;
      overflow-y: auto; display: none; z-index: 905;
    }
    #cart-popover h3 {
      margin-bottom: 10px; font-size: 1.1rem;
      border-bottom: 1px solid #eeeeee; padding-bottom: 5px;
    }
    .cart-item { display: flex; align-items: center; margin: 8px 0; }
    .cart-item img {
      width: 40px; height: 40px; object-fit: cover;
      border-radius: 4px; margin-right: 10px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }
    .cart-item-name { flex: 1; font-size: .95rem; }
    .cart-item-price { font-weight: bold; font-size: .95rem; margin-left: 8px; }
    .quantity-controls { display: flex; align-items: center; margin-left: 10px; }
    .quantity-button {
      background: #e5e7eb; border: none; border-radius: 4px;
      width: 20px; height: 20px; text-align: center; line-height: 18px;
      margin: 0 4px; font-weight: bold; color: #374151;
    }
    .quantity-button:hover { background: #d1d5db; }
    .quantity-display { min-width: 20px; text-align: center; font-size: .9rem; }
    #checkout-btn {
      background: #1f2937; color: #ffffff; padding: 10px; width: 100%;
      border-radius: 6px; margin-top: 10px;
    }
    #checkout-btn:hover { background: #374151; }

    /* Footer */
    footer {
      background: #ffffff; border-top: 1px solid #e5e7eb;
      padding: 20px 0; text-align: center; color: #6b7280; font-size: .9rem;
    }
  </style>
</head>

<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>

  <!-- Header -->
  <header>
    <a href="home.html">
      <img src="beaverlogo.jpg" alt="Beaver Built Furniture" class="logo" />
    </a>
    <div class="page-title">Decor</div>
  </header>

  <!-- Carousel -->
  <div class="carousel-viewport">
    <img id="random-carousel" src="" alt="Featured Decor" />
  </div>

  <!-- Full Gallery -->
  <div class="gallery">
    <!-- Decor 2 through Decor 36 -->
    <div class="gallery-item" data-img="ecomassets/mis2.jpg"  data-price="45.00" data-description="Handmade wall-mounted key holder shelves"><img src="ecomassets/mis2.jpg" alt="Decor 2" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis3.jpg"  data-price="125.00" data-description="Handmade geometric interlocking wood wall shelf unit."><img src="ecomassets/mis3.jpg" alt="Decor 3" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis4.jpg"  data-price="65.00" data-description="Handmade rustic leaning wooden blanket ladder rack."><img src="ecomassets/mis4.jpg" alt="Decor 4" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis5.jpg"  data-price="45.00" data-description="Handmade wood planter box with black stand."><img src="ecomassets/mis5.jpg" alt="Decor 5" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis6.jpg"  data-price="45.00" data-description="Handmade pair of triangular floating wood shelves."><img src="ecomassets/mis6.jpg" alt="Decor 6" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis7.jpg"  data-price="45.00" data-description="Handmade asymmetrical double-frame wall shelf with natural wood ledges."><img src="ecomassets/mis7.jpg" alt="Decor 7" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis8.jpg"  data-price="45.00" data-description="Handmade vertical wood blanket storage rack."><img src="ecomassets/mis8.jpg" alt="Decor 8" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis9.jpg"  data-price="65.00" data-description="Handmade layered reclaimed wood wall shelf."><img src="ecomassets/mis9.jpg" alt="Decor 9" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis10.jpg" data-price="45.00" data-description="Handmade dinosaur-shaped wall shelf."><img src="ecomassets/mis10.jpg" alt="Decor 10" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis11.jpg" data-price="65.00" data-description="Handmade layered reclaimed wood wall shelf."><img src="ecomassets/mis11.jpg" alt="Decor 11" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis13.jpg" data-price="125.00" data-description="Handmade trio of whitewashed wooden floating crate shelves."><img src="ecomassets/mis13.jpg" alt="Decor 13" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis14.jpg" data-price="65.00" data-description="Handmade interlocking geometric wooden wall shelf unit."><img src="ecomassets/mis14.jpg" alt="Decor 14" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis15.jpg" data-price="65.00" data-description="Handmade pair of vertical rectangular wooden display shelves."><img src="ecomassets/mis15.jpg" alt="Decor 15" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis16.jpg" data-price="65.00" data-description="Handmade modern asymmetrical three-tier wooden wall shelf."><img src="ecomassets/mis16.jpg" alt="Decor 16" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis17.jpg" data-price="225.00" data-description="Handmade multi-level geometric wooden shelving display unit."><img src="ecomassets/mis17.jpg" alt="Decor 17" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis18.jpg" data-price="65.00" data-description="Handmade asymmetrical interlocking black wooden wall shelf."><img src="ecomassets/mis18.jpg" alt="Decor 18" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis19.jpg" data-price="125.00" data-description="Handmade honeycomb-style hexagonal wooden wall shelf set."><img src="ecomassets/mis19.jpg" alt="Decor 19" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis20.jpg" data-price="45.00" data-description="Handmade hanging rope-framed wooden floating box shelves (set of four)."><img src="ecomassets/mis20.jpg" alt="Decor 20" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis21.jpg" data-price="125.00" data-description="Handmade three-tier L-shaped corner wooden wall shelves."><img src="ecomassets/mis21.jpg" alt="Decor 21" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis22.jpg" data-price="45.00" data-description="Handmade wooden entryway wall organizer shelf and key hooks."><img src="ecomassets/mis22.jpg" alt="Decor 22" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis24.jpg" data-price="45.00" data-description="Handmade square wooden wall shelves with built-in ledge."><img src="ecomassets/mis24.jpg" alt="Decor 24" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis25.jpg" data-price="45.00" data-description="Handmade two-tone geometric wall shelf with wood grain back panel."><img src="ecomassets/mis25.jpg" alt="Decor 25" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis26.jpg" data-price="65.00" data-description="Handmade staggered rectangular wood wall shelf with built-in display ledges."><img src="ecomassets/mis26.jpg" alt="Decor 26" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis27.jpg" data-price="65.00" data-description="Handmade pair of black-framed wall shelves with natural wood display ledges."><img src="ecomassets/mis27.jpg" alt="Decor 27" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis28.jpg" data-price="125.00" data-description="Handmade angled trapezoid wooden floating shelves 3 sizes."><img src="ecomassets/mis28.jpg" alt="Decor 28" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis29.jpg" data-price="125.00" data-description="Handmade wooden freestanding planter stand with “Welcome” sign and hanging hook."><img src="ecomassets/mis29.jpg" alt="Decor 29" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis30.jpg" data-price="225.00" data-description="Handmade three-tier wooden slanted storage bin rack."><img src="ecomassets/mis30.jpg" alt="Decor 30" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis31.jpg" data-price="225.00" data-description="Handmade pallet-style vertical planter wall with staggered floating wood shelves."><img src="ecomassets/mis31.jpg" alt="Decor 31" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis32.jpg" data-price="225.00" data-description="Handmade lighthouse-shaped children’s bookshelf with tiered guard-rail shelves."><img src="ecomassets/mis32.jpg" alt="Decor 32" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis33.jpg" data-price="225.00" data-description="Handmade A-frame leaning wooden shelf with four floating tiers."><img src="ecomassets/mis33.jpg" alt="Decor 33" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis34.jpg" data-price="65.00" data-description="Handmade chunky reclaimed-wood cube wall shelves (set of four)."><img src="ecomassets/mis34.jpg" alt="Decor 34" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis35.jpg" data-price="45.00" data-description="Handmade modern industrial wall shelf with dual natural wood shelves framed by matte black."><img src="ecomassets/mis35.jpg" alt="Decor 35" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis36.jpg" data-price="125.00" data-description="Handmade floating wall‐mounted box shelves in distressed reclaimed wood."><img src="ecomassets/mis36.jpg" alt="Decor 36" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis37.jpg"  data-price="45.00" data-description="Handmade three-tier floating wall shelf with black supports and light wood planks."><img src="ecomassets/mis2.jpg" alt="Decor 2" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis38.jpg"  data-price="45.00" data-description="Handmade matte black wall-mounted toilet paper rack with space for four spare rolls and one dispenser."><img src="ecomassets/mis3.jpg" alt="Decor 3" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis39.jpg"  data-price="45.00" data-description="Handmade Black three-tier wall-mounted shelf."><img src="ecomassets/mis4.jpg" alt="Decor 4" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis40.jpg"  data-price="45.00" data-description="Handmade Black frame floating shelf with a natural wood plank."><img src="ecomassets/mis5.jpg" alt="Decor 5" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis41.jpg"  data-price="65.00" data-description="Handmade pallet‐style bathroom organizer."><img src="ecomassets/mis6.jpg" alt="Decor 6" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis42.jpg"  data-price="125.00" data-description="Handmade white wooden box frame shelf with five natural wood planks."><img src="ecomassets/mis7.jpg" alt="Decor 7" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis43.jpg"  data-price="65.00" data-description="Handmade L-shaped shelf with two staggered platforms for a minimalist display."><img src="ecomassets/mis8.jpg" alt="Decor 8" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis44.jpg"  data-price="125.00" data-description="Handmade intersecting-grid shelf: simple wood planks arranged in a cross-hatch pattern for open cubby storage."><img src="ecomassets/mis9.jpg" alt="Decor 9" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis45.jpg" data-price="65.00" data-description="Handmade floating diamond cube trio."><img src="ecomassets/mis10.jpg" alt="Decor 10" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis46.jpg" data-price="65.00" data-description="Handmade Two-Tone Interlocking Wall Shelves"><img src="ecomassets/mis11.jpg" alt="Decor 11" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis47.jpg" data-price="65.00" data-description="Handmade Minimalist Floating Shelf."><img src="ecomassets/mis12.jpg" alt="Decor 12" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis48.jpg" data-price="65.00" data-description="Handmade Rocket Shelf."><img src="ecomassets/mis13.jpg" alt="Decor 13" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis49.jpg" data-price="125.00" data-description="Handmade Hexagon Shelf"><img src="ecomassets/mis14.jpg" alt="Decor 14" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis50.jpg" data-price="125.00" data-description="Handmade geometric wall art six diamond-shaped wood shelves."><img src="ecomassets/mis15.jpg" alt="Decor 15" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis51.jpg" data-price="125.00" data-description="Handmade LOVE wall shelf set."><img src="ecomassets/mis16.jpg" alt="Decor 16" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis52.jpg" data-price="125.00" data-description="Handmade minimalist wall shelf set with three staggered wooden panels and integrated floating shelves."><img src="ecomassets/mis17.jpg" alt="Decor 17" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis53.jpg" data-price="65.00" data-description="Handmade rustic pallet-style wall shelves with two floating display ledges."><img src="ecomassets/mis18.jpg" alt="Decor 18" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis54.jpg" data-price="45.00" data-description="Handmade rustic wood plant pedestals."><img src="ecomassets/mis19.jpg" alt="Decor 19" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis55.jpg" data-price="65.00" data-description="Handmade floating shelve set with contrasting black frames and natural wood platforms."><img src="ecomassets/mis20.jpg" alt="Decor 20" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis56.jpg" data-price="45.00" data-description="Handmade floating wood shelf with layered natural and white finishes."><img src="ecomassets/mis21.jpg" alt="Decor 21" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis57.jpg" data-price="45.00" data-description=".Handmade rustic ladder-style photo display with three horizontal wooden rungs and two vertical supports"><img src="ecomassets/mis22.jpg" alt="Decor 22" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis58.jpg" data-price="65.00" data-description="">Handmade rustic photo display frame<img src="ecomassets/mis23.jpg" alt="Decor 23" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis59.jpg" data-price="225.00" data-description="">Handmade floating self<img src="ecomassets/mis24.jpg" alt="Decor 24" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis60.jpg" data-price="45.00" data-description="Handmade farm rustic window shelf."><img src="ecomassets/mis25.jpg" alt="Decor 25" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis61.jpg" data-price="45.00" data-description="Handmade rustic photo displays ."><img src="ecomassets/mis26.jpg" alt="Decor 26" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis62.jpg" data-price="45.00" data-description="Handmade square frame planter reclaimed front slats."><img src="ecomassets/mis27.jpg" alt="Decor 27" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis63.jpg" data-price="45.00" data-description="Handmade set of four minimalist floating wall shelves."><img src="ecomassets/mis28.jpg" alt="Decor 28" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis64.jpg" data-price="45.00" data-description="Handmade wooden raping corner shelves."><img src="ecomassets/mis29.jpg" alt="Decor 29" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis65.jpg" data-price="65.00" data-description="Handmade Rustic S-shaped reclaimed wood wall shelf."><img src="ecomassets/mis30.jpg" alt="Decor 30" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis66.jpg" data-price="65.00" data-description="Handmade Rustic grid style floating shelf."><img src="ecomassets/mis31.jpg" alt="Decor 31" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis67.jpg" data-price="65.00" data-description="Handmade modern LOVE shaped floating shelf."><img src="ecomassets/mis32.jpg" alt="Decor 32" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis68.jpg" data-price="45.00" data-description="Handmade Rustic mountain shaped floating key chain holder."><img src="ecomassets/mis33.jpg" alt="Decor 33" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis69.jpg" data-price="45.00"  data-description="Rustic wood-framed wall clock."><img src="ecomassets/mis34.jpg" alt="Decor 34" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis70.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis35.jpg" alt="Decor 35" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis71.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis36.jpg" alt="Decor 36" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis72.jpg"  data-price="125.00" data-description=""><img src="ecomassets/mis6.jpg" alt="Decor 6" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis73.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis7.jpg" alt="Decor 7" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis74.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis8.jpg" alt="Decor 8" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis75.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis9.jpg" alt="Decor 9" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis76.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis10.jpg" alt="Decor 10" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis77.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis11.jpg" alt="Decor 11" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis78.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis12.jpg" alt="Decor 12" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis79.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis13.jpg" alt="Decor 13" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis80.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis14.jpg" alt="Decor 14" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis81.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis15.jpg" alt="Decor 15" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis82.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis16.jpg" alt="Decor 16" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis83.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis17.jpg" alt="Decor 17" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis84.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis18.jpg" alt="Decor 18" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis85.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis19.jpg" alt="Decor 19" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis86.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis20.jpg" alt="Decor 20" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis87.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis21.jpg" alt="Decor 21" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis88.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis22.jpg" alt="Decor 22" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis89.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis23.jpg" alt="Decor 23" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis90.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis24.jpg" alt="Decor 24" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis91.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis25.jpg" alt="Decor 25" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis92.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis26.jpg" alt="Decor 26" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis93.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis27.jpg" alt="Decor 27" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis94.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis28.jpg" alt="Decor 28" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis95.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis29.jpg" alt="Decor 29" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis96.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis30.jpg" alt="Decor 30" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis97.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis31.jpg" alt="Decor 31" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis98.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis32.jpg" alt="Decor 32" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis99.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis33.jpg" alt="Decor 33" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis100.jpg" data-price="65.00"  data-description=""><img src="ecomassets/mis34.jpg" alt="Decor 34" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis101.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis35.jpg" alt="Decor 35" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis102.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis36.jpg" alt="Decor 36" loading="lazy" decoding="async" /><div class="view-button">View</div></div>

<div class="gallery-item" data-img="ecomassets/mis103.jpg"  data-price="65.00" data-description=""><img src="ecomassets/mis2.jpg" alt="Decor 2" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis104.jpg"  data-price="65.00" data-description=""><img src="ecomassets/mis3.jpg" alt="Decor 3" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis105.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis4.jpg" alt="Decor 4" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis106.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis5.jpg" alt="Decor 5" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis107.jpg"  data-price="65.00" data-description=""><img src="ecomassets/mis6.jpg" alt="Decor 6" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis108.jpg"  data-price="45.00" data-description=""><img src="ecomassets/mis7.jpg" alt="Decor 7" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis109.jpg"  data-price="65.00" data-description=""><img src="ecomassets/mis8.jpg" alt="Decor 8" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis110.jpg"  data-price="65.00" data-description=""><img src="ecomassets/mis9.jpg" alt="Decor 9" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis111.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis10.jpg" alt="Decor 10" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis112.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis11.jpg" alt="Decor 11" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis113.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis12.jpg" alt="Decor 12" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis114.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis13.jpg" alt="Decor 13" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis115.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis14.jpg" alt="Decor 14" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis116.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis15.jpg" alt="Decor 15" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis117.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis16.jpg" alt="Decor 16" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis118.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis17.jpg" alt="Decor 17" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis119.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis18.jpg" alt="Decor 18" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis120.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis19.jpg" alt="Decor 19" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis121.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis20.jpg" alt="Decor 20" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis122.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis21.jpg" alt="Decor 21" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis123.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis22.jpg" alt="Decor 22" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis124.jpg" data-price="45.00" data-description=""><img src="ecomassets/mis23.jpg" alt="Decor 23" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis125.jpg" data-price="125.00" data-description=""><img src="ecomassets/mis24.jpg" alt="Decor 24" loading="lazy" decoding="async" /><div class="view-button">View</div></div>
<div class="gallery-item" data-img="ecomassets/mis126.jpg" data-price="65.00" data-description=""><img src="ecomassets/mis25.jpg" alt="Decor 25" loading="lazy" decoding="async" /><div class="view-button">View</div></div>


  
  
  
  
  
  </div>

  <!-- Detail Modal -->
  <div id="detail-modal">
    <div id="modal-content">
      <button id="modal-close">&times;</button>
      <img id="modal-image" src="" alt="Detail View" />
      <div id="modal-description"></div>
      <div id="modal-itemnum"></div>
      <div id="modal-price"></div>
      <button id="modal-add-btn">Add to Cart</button>
    </div>
  </div>

  <!-- Cart Popover -->
  <div id="cart-popover">
    <h3>Your Cart</h3>
    <div id="cart-items"></div>
    <p><strong>Total: $<span id="cart-total">0</span></strong></p>
    <button id="checkout-btn">Checkout</button>
  </div>

  <!-- Footer -->
  <footer>
    © 2025 Beaver Built Furniture. All rights reserved.
  </footer>

  <script>
    // Stripe
    const stripe = Stripe('pk_live_…');

    // Preloader
    window.addEventListener('load', () => {
      const p = document.getElementById('preloader');
      setTimeout(() => { p.classList.add('fade-out'); setTimeout(()=>p.style.display='none',1000); }, 1000);
    });

    // Cart
    let cart = [];
    function loadCart() {
      const s = localStorage.getItem('bbf_cart');
      if (s) try { cart = JSON.parse(s) } catch { cart = [] }
      updateCart();
    }
    function saveCart() { localStorage.setItem('bbf_cart', JSON.stringify(cart)); }

    function addToCart(i, price, img) {
      const ex = cart.find(x => x.itemNum === i);
      if (ex) ex.qty++;
      else cart.push({ itemNum: i, price, img, qty: 1 });
      saveCart(); updateCart();
    }
    function removeFromCart(i) {
      const idx = cart.findIndex(x => x.itemNum === i);
      if (idx > -1) {
        cart[idx].qty--;
        if (cart[idx].qty < 1) cart.splice(idx,1);
        saveCart(); updateCart();
      }
    }
    function updateCart() {
      const div = document.getElementById('cart-items');
      div.innerHTML = '';
      let total = 0;
      cart.forEach(i => {
        total += i.price * i.qty;
        div.innerHTML += `
          <div class="cart-item">
            <img src="${i.img}" alt="">
            <div class="cart-item-name">Item #: ${i.itemNum}</div>
            <div class="quantity-controls">
              <button class="quantity-button minus-button" data-item="${i.itemNum}">−</button>
              <div class="quantity-display">${i.qty}</div>
              <button class="quantity-button plus-button" data-item="${i.itemNum}">+</button>
            </div>
            <div class="cart-item-price">$${(i.price*i.qty).toFixed(2)}</div>
          </div>`;
      });
      document.getElementById('cart-total').innerText = total.toFixed(2);

      document.querySelectorAll('.plus-button').forEach(b => {
        b.onclick = () => {
          const n = +b.dataset.item, it = cart.find(x=>x.itemNum===n);
          addToCart(n, it.price, it.img);
        };
      });
      document.querySelectorAll('.minus-button').forEach(b => {
        b.onclick = () => removeFromCart(+b.dataset.item);
      });
    }

    // Checkout
    document.getElementById('checkout-btn').addEventListener('click', async () => {
      if (!cart.length) { alert('Your cart is empty!'); return; }
      const lineItems = cart.map(i => ({
        price_data: {
          currency: 'usd',
          product_data: { name: 'Item #: ' + i.itemNum },
          unit_amount: i.price * 100
        },
        quantity: i.qty
      }));
      try {
        const res = await fetch('https://www.beaverbuiltfurniture.com/create-checkout-session', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ items: lineItems })
        });
        const { url } = await res.json();
        window.location = url;
      } catch {
        alert('Checkout failed. Please try again.');
      }
    });

    // Modal, gallery & carousel
    document.addEventListener('DOMContentLoaded', () => {
      loadCart();
      const modal = document.getElementById('detail-modal'),
            imgEl = document.getElementById('modal-image'),
            descEl = document.getElementById('modal-description'),
            numEl = document.getElementById('modal-itemnum'),
            priceEl = document.getElementById('modal-price'),
            addBtn = document.getElementById('modal-add-btn'),
            closeBtn = document.getElementById('modal-close'),
            items = document.querySelectorAll('.gallery-item');

      items.forEach(item => item.addEventListener('click', () => {
        const img = item.dataset.img,
              match = img.match(/mis(\d+)\.jpg/),
              num = match ? +match[1] : null,
              price = parseFloat(item.dataset.price) || 0;
        imgEl.src = img;
        descEl.textContent = item.dataset.description;
        numEl.textContent = 'Item #: ' + num;
        priceEl.textContent = 'Price: $' + price.toFixed(2);
        modal.style.display = 'flex';
        addBtn.onclick = () => { addToCart(num, price, img); modal.style.display = 'none'; };
      }));
      closeBtn.onclick = () => modal.style.display = 'none';
      modal.addEventListener('click', e => { if (e.target === modal) modal.style.display = 'none'; });

      // Carousel
      const srcs = Array.from(items).map(i => i.querySelector('img').src),
            carousel = document.getElementById('random-carousel');
      if (srcs.length) {
        let idx = Math.floor(Math.random() * srcs.length);
        carousel.src = srcs[idx];
        setInterval(() => {
          let n; do { n = Math.floor(Math.random() * srcs.length); } while (n === idx);
          idx = n; carousel.style.opacity = 0;
          setTimeout(() => { carousel.src = srcs[idx]; carousel.style.opacity = 1; }, 300);
        }, 4000);
      }
    });

    // Live Chat Badge
    ;(function(){
      const badge = document.getElementById('chat-badge');
      const uid = localStorage.getItem('visitorUid'),
            name = localStorage.getItem('visitorName');
      if (!uid || !name) return;
      const ref = firebase.database().ref('threads/' + uid);
      let init = true;
      ref.once('value', () => init = false);
      ref.on('child_added', snap => {
        const m = snap.val();
        if (init || m.system || m.sender === name) return;
        const c = parseInt(badge.textContent||'0',10) + 1;
        badge.textContent = c; badge.style.display = 'block';
      });
      // clear badge on click
      document.getElementById('bottom-chat')?.addEventListener('click', () => {
        badge.style.display = 'none'; badge.textContent = '';
      });
    })();
  </script>



    <script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.gallery-item').forEach(item => {
      const imgPath = item.getAttribute('data-img');
      const desc   = item.getAttribute('data-description') || '';
      const img    = item.querySelector('img');
      if (!img) return;

      img.src     = imgPath;
      img.alt     = desc;
    });
  });
</script>

</body>
</html>


